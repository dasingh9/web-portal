<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Products</title>
    <link rel="stylesheet" href="table.css">
    <style>
        .filters {
            margin: 20px;
        }
    </style>

    <script type="module">
        import { getAllProducts } from "./products-service.js";
        const allProducts = getAllProducts();

        function showProducts(products) {
            const tbody = document.querySelector("#productsTable tbody");
            for (let product of products) {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.category}</td>
                    <td>${product.price}</td>
                    <td>${product.isActive ? "✅" : "❌"}</td>
                    <td>
                        <span>
                            <button style="background-color: white; border: 1px solid #ccc; padding: 3px 10px;">✎</button>
                        </span>
                        <span>
                            <button style="background-color: white; border: 1px solid #ccc; padding: 3px 10px;">❌</button>
                        </span>
                    </td>
                `
                tbody.appendChild(row);
            }
        }

        function filterProducts() {
            const productName = document.getElementById("productName").value;
            const filteredProducts = allProducts.filter(p => p.name.includes(productName));
            showProducts(filteredProducts);
        }

        window.onload = ()=> {
            showProducts(allProducts);
            document.getElementById("productName").onkeyup = ()=> filterProducts();
        }
    </script>


</head>

<body>
    <div class="filters">
        <input type="text" id="productName" placeholder="Product name">
    </div>
    <table id="productsTable">
        <thead>
            <tr>
                <th>Product</th>
                <th>Category</th>
                <th>Price</th>
                <th>Is Active</th>
                <th style="width: 80px;">Actions</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>


</body>

</html>